local DIEVERHUB = "https://raw.githubusercontent.com/lnaa323sda/scki343/refs/heads/main/Autocc.lua"

local Hub = loadstring(game:HttpGet(DIEVERHUB))()

-- RemoteEvent name (server script sẽ tạo)
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local SpeedEvent = ReplicatedStorage:WaitForChild("Diever_SetSpeed") -- RemoteEvent

local function RequestSpeed(speed)
	SpeedEvent:FireServer(speed)
end

local Win = Hub:CreateWindow({
	Title = "DIEVER HUB",
	SubTitle = "Speed & Tools Menu",
	MiniText = "DIEVER HUB",
	Logo = "rbxassetid://70511817915018",

	Center = true,
	MinSize = Vector2.new(360, 260),
	MaxSize = Vector2.new(1100, 750),
	ToggleKey = Enum.KeyCode.RightControl,
})

-- Tabs
local TabMain = Win:Tab("Main")
local TabSpeed = Win:Tab("Speed")
local TabUI = Win:Tab("UI Demo")

-- MAIN
do
	local S = TabMain:Section("Welcome")
	S:Label("Example full controls. Người khác nhìn là biết cấu hình.")
	S:Button("Print Hello", function()
		print("[DIEVER HUB] Hello!")
	end)

	S:Toggle("Toggle Example", false, function(on)
		print("Toggle:", on)
	end)

	S:Slider("Slider Example", 0, 100, 25, function(v)
		print("Slider:", v)
	end)

	S:Dropdown("Dropdown Example", {"Option A", "Option B", "Option C"}, "Option B", function(v)
		print("Dropdown:", v)
	end)

	S:List("List Select Example", {"Main", "Settings", "Extra"}, "Main", function(v)
		print("List selected:", v)
	end)
end

-- SPEED TAB (SAFE PATTERN: ask server to set speed)
do
	local S = TabSpeed:Section("Speed Controls (Server Authorized)")
	S:Label("UI chỉ request -> server kiểm tra -> set speed. (Chuẩn dev)")

	local currentSpeed = 16

	S:Button("Reset Speed (16)", function()
		currentSpeed = 16
		RequestSpeed(currentSpeed)
	end)

	S:Toggle("Enable Speed", false, function(on)
		if on then
			RequestSpeed(currentSpeed)
		else
			RequestSpeed(16)
		end
	end)

	S:Slider("Speed Value", 16, 60, 16, function(v)
		currentSpeed = v
		-- Nếu bạn muốn realtime thì bật line dưới:
		-- RequestSpeed(currentSpeed)
	end)

	S:Dropdown("Preset", {"16", "20", "28", "35", "45", "60"}, "16", function(v)
		currentSpeed = tonumber(v) or 16
		RequestSpeed(currentSpeed)
	end)

	S:List("Mode", {"Walk", "Run", "Sprint"}, "Walk", function(mode)
		-- tuỳ bạn mapping mode -> speed
		local map = { Walk = 16, Run = 24, Sprint = 32 }
		currentSpeed = map[mode] or 16
		RequestSpeed(currentSpeed)
	end)
end

-- UI DEMO TAB
do
	local S = TabUI:Section("UI Functions")
	S:Button("Close UI", function()
		Win:Destroy()
	end)
end
